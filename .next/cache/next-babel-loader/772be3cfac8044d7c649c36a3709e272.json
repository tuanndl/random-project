{"ast":null,"code":"(function (root) {\n  'use strict';\n\n  function _merge(obj1, obj2) {\n    var obj3 = {};\n\n    for (var attrname in obj1) {\n      obj3[attrname] = obj1[attrname];\n    }\n\n    for (var attrname in obj2) {\n      obj3[attrname] = obj2[attrname];\n    }\n\n    return obj3;\n  }\n\n  var PrizeWheel = function PrizeWheel(options) {\n    var _this = this,\n        defaults,\n        s,\n        ctx,\n        canvas;\n\n    defaults = {\n      el: null,\n      members: ['Member 1', 'Member 2', 'Member 3', 'Member 4'],\n      colors: ['#C7181D', '#FCB937', '#A1B836', '#371979', '#C7181D', '#FCB937', '#A1B836', '#371979'],\n      radius: 250,\n      startAngle: 0,\n      textRadius: 160\n    }; // s for settings\n\n    s = _merge(defaults, options);\n    s.width = s.height = s.radius * 2;\n    s.insideRadius = s.width / 5;\n    s.outsideRadius = s.width / 2 - 10;\n    s.startAngle = s.startAngle === 'random' ? Math.floor(Math.random() * 360) : s.startAngle;\n    s.arc = Math.PI / (s.members.length / (s.members.length / (s.members.length / 2)));\n    s.spinTimeout = null;\n    s.spinTime = 0;\n    s.spinTimeTotal = 0;\n    s.spinAngleStart = null;\n\n    this.draw = function () {\n      var angle, text, i;\n      canvas = document.querySelector(s.el);\n      canvas.width = s.width;\n      canvas.height = s.height;\n\n      if (canvas.getContext) {\n        ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, s.width, s.height);\n        ctx.strokeStyle = 'black';\n        ctx.lineWidth = 2;\n        ctx.font = '16px sans-serif';\n\n        for (i = 0; i < s.members.length; i++) {\n          angle = s.startAngle + i * s.arc;\n          ctx.fillStyle = s.colors[i];\n          ctx.beginPath();\n          ctx.arc(s.width / 2, s.height / 2, s.outsideRadius, angle, angle + s.arc, false); //   ctx.arc(s.width / 2, s.height / 2, s.insideRadius, angle + s.arc, angle, true);\n\n          ctx.stroke();\n          ctx.fill();\n          ctx.save();\n          ctx.shadowOffsetX = -1;\n          ctx.shadowOffsetY = -1;\n          ctx.shadowBlur = 0;\n          ctx.fillStyle = 'black';\n          ctx.translate(s.width / 2 + Math.cos(angle + s.arc / 2) * s.textRadius, s.height / 2 + Math.sin(angle + s.arc / 2) * s.textRadius);\n          ctx.rotate(s.angle + s.arc / 2 + Math.PI / 2);\n          text = s.members[i];\n          ctx.fillText(text, -ctx.measureText(text).width / 2, 0);\n          ctx.restore();\n        } //Arrow\n\n\n        ctx.fillStyle = 'black';\n        ctx.beginPath();\n        ctx.moveTo(s.radius - 4, s.radius - (s.outsideRadius + 5));\n        ctx.lineTo(s.radius + 4, s.radius - (s.outsideRadius + 5));\n        ctx.lineTo(s.radius + 4, s.radius - (s.outsideRadius - 5));\n        ctx.lineTo(s.radius + 9, s.radius - (s.outsideRadius - 5));\n        ctx.lineTo(s.radius + 0, s.radius - (s.outsideRadius - 13));\n        ctx.lineTo(s.radius - 9, s.radius - (s.outsideRadius - 5));\n        ctx.lineTo(s.radius - 4, s.radius - (s.outsideRadius - 5));\n        ctx.lineTo(s.radius - 4, s.radius - (s.outsideRadius + 5));\n        ctx.fill();\n      }\n    };\n\n    this.easeOut = function (t, b, c, d) {\n      var ts, tc;\n      ts = (t /= d) * t;\n      tc = ts * t;\n      return b + c * (tc + -3 * ts + 3 * t);\n    };\n\n    this.rotate = function () {\n      var spinAngle;\n      s.spinTime += 30;\n\n      if (s.spinTime + 5000 >= s.spinTimeTotal) {\n        _this.stop();\n\n        return;\n      }\n\n      spinAngle = s.spinAngleStart - _this.easeOut(s.spinTime, 0, s.spinAngleStart, s.spinTimeTotal);\n      s.startAngle += spinAngle * Math.PI / 180;\n\n      _this.draw();\n\n      s.spinTimeout = setTimeout(_this.rotate, 30);\n    };\n\n    this.spin = function (cb) {\n      _this.cb = cb;\n      s.spinAngleStart = Math.random() * 10 + 10;\n      s.spinTime = 0;\n      s.spinTimeTotal = Math.random() * 3 + 4 * 3000;\n\n      _this.rotate();\n    };\n\n    this.stop = function () {\n      var degrees;\n      var arcd;\n      var index;\n      clearTimeout(s.spinTimeout);\n      degrees = s.startAngle * 180 / Math.PI + 90;\n      arcd = s.arc * 180 / Math.PI;\n      index = Math.floor((360 - degrees % 360) / arcd);\n      ctx.save();\n\n      _this.done(s.members[index]);\n    };\n\n    this.done = function (member) {\n      _this.cb(member);\n    };\n\n    return {\n      init: _this.draw,\n      spin: _this.spin\n    };\n  };\n\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = PrizeWheel;\n    }\n\n    exports.PrizeWheel = PrizeWheel;\n  } else if (typeof define === 'function' && define.amd) {\n    define([], function () {\n      return PrizeWheel;\n    });\n  } else {\n    root.PrizeWheel = PrizeWheel;\n  }\n})(this);","map":{"version":3,"sources":["/Users/macbook/Git/random-project/utils/randomWheel.js"],"names":["root","_merge","obj1","obj2","obj3","attrname","PrizeWheel","options","_this","defaults","s","ctx","canvas","el","members","colors","radius","startAngle","textRadius","width","height","insideRadius","outsideRadius","Math","floor","random","arc","PI","length","spinTimeout","spinTime","spinTimeTotal","spinAngleStart","draw","angle","text","i","document","querySelector","getContext","clearRect","strokeStyle","lineWidth","font","fillStyle","beginPath","stroke","fill","save","shadowOffsetX","shadowOffsetY","shadowBlur","translate","cos","sin","rotate","fillText","measureText","restore","moveTo","lineTo","easeOut","t","b","c","d","ts","tc","spinAngle","stop","setTimeout","spin","cb","degrees","arcd","index","clearTimeout","done","member","init","exports","module","define","amd"],"mappings":"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","sourcesContent":["(function (root) {\n  'use strict';\n\n  function _merge(obj1, obj2) {\n    var obj3 = {};\n    for (var attrname in obj1) {\n      obj3[attrname] = obj1[attrname];\n    }\n    for (var attrname in obj2) {\n      obj3[attrname] = obj2[attrname];\n    }\n    return obj3;\n  }\n\n  var PrizeWheel = function (options) {\n    var _this = this,\n      defaults,\n      s,\n      ctx,\n      canvas;\n\n    defaults = {\n      el: null,\n      members: ['Member 1', 'Member 2', 'Member 3', 'Member 4'],\n      colors: [\n        '#C7181D',\n        '#FCB937',\n        '#A1B836',\n        '#371979',\n        '#C7181D',\n        '#FCB937',\n        '#A1B836',\n        '#371979',\n      ],\n      radius: 250,\n      startAngle: 0,\n      textRadius: 160,\n    };\n\n    // s for settings\n    s = _merge(defaults, options);\n\n    s.width = s.height = s.radius * 2;\n    s.insideRadius = s.width / 5;\n    s.outsideRadius = s.width / 2 - 10;\n\n    s.startAngle = s.startAngle === 'random' ? Math.floor(Math.random() * 360) : s.startAngle;\n    s.arc = Math.PI / (s.members.length / (s.members.length / (s.members.length / 2)));\n    s.spinTimeout = null;\n    s.spinTime = 0;\n    s.spinTimeTotal = 0;\n    s.spinAngleStart = null;\n\n    this.draw = function () {\n      var angle, text, i;\n\n      canvas = document.querySelector(s.el);\n      canvas.width = s.width;\n      canvas.height = s.height;\n      if (canvas.getContext) {\n        ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, s.width, s.height);\n\n        ctx.strokeStyle = 'black';\n        ctx.lineWidth = 2;\n\n        ctx.font = '16px sans-serif';\n\n        for (i = 0; i < s.members.length; i++) {\n          angle = s.startAngle + i * s.arc;\n\n          ctx.fillStyle = s.colors[i];\n          ctx.beginPath();\n          ctx.arc(s.width / 2, s.height / 2, s.outsideRadius, angle, angle + s.arc, false);\n          //   ctx.arc(s.width / 2, s.height / 2, s.insideRadius, angle + s.arc, angle, true);\n          ctx.stroke();\n          ctx.fill();\n          ctx.save();\n\n          ctx.shadowOffsetX = -1;\n          ctx.shadowOffsetY = -1;\n          ctx.shadowBlur = 0;\n          ctx.fillStyle = 'black';\n          ctx.translate(\n            s.width / 2 + Math.cos(angle + s.arc / 2) * s.textRadius,\n            s.height / 2 + Math.sin(angle + s.arc / 2) * s.textRadius\n          );\n          ctx.rotate(s.angle + s.arc / 2 + Math.PI / 2);\n          text = s.members[i];\n          ctx.fillText(text, -ctx.measureText(text).width / 2, 0);\n          ctx.restore();\n        }\n\n        //Arrow\n        ctx.fillStyle = 'black';\n        ctx.beginPath();\n        ctx.moveTo(s.radius - 4, s.radius - (s.outsideRadius + 5));\n        ctx.lineTo(s.radius + 4, s.radius - (s.outsideRadius + 5));\n        ctx.lineTo(s.radius + 4, s.radius - (s.outsideRadius - 5));\n        ctx.lineTo(s.radius + 9, s.radius - (s.outsideRadius - 5));\n        ctx.lineTo(s.radius + 0, s.radius - (s.outsideRadius - 13));\n        ctx.lineTo(s.radius - 9, s.radius - (s.outsideRadius - 5));\n        ctx.lineTo(s.radius - 4, s.radius - (s.outsideRadius - 5));\n        ctx.lineTo(s.radius - 4, s.radius - (s.outsideRadius + 5));\n        ctx.fill();\n      }\n    };\n\n    this.easeOut = function (t, b, c, d) {\n      var ts, tc;\n\n      ts = (t /= d) * t;\n      tc = ts * t;\n      return b + c * (tc + -3 * ts + 3 * t);\n    };\n\n    this.rotate = function () {\n      var spinAngle;\n      s.spinTime += 30;\n      if (s.spinTime + 5000 >= s.spinTimeTotal) {\n        _this.stop();\n        return;\n      }\n      spinAngle =\n        s.spinAngleStart - _this.easeOut(s.spinTime, 0, s.spinAngleStart, s.spinTimeTotal);\n      s.startAngle += (spinAngle * Math.PI) / 180;\n      _this.draw();\n      s.spinTimeout = setTimeout(_this.rotate, 30);\n    };\n\n    this.spin = function (cb) {\n      _this.cb = cb;\n      s.spinAngleStart = Math.random() * 10 + 10;\n      s.spinTime = 0;\n      s.spinTimeTotal = Math.random() * 3 + 4 * 3000;\n      _this.rotate();\n    };\n\n    this.stop = function () {\n      var degrees;\n      var arcd;\n      var index;\n\n      clearTimeout(s.spinTimeout);\n      degrees = (s.startAngle * 180) / Math.PI + 90;\n      arcd = (s.arc * 180) / Math.PI;\n      index = Math.floor((360 - (degrees % 360)) / arcd);\n      ctx.save();\n      _this.done(s.members[index]);\n    };\n\n    this.done = function (member) {\n      _this.cb(member);\n    };\n\n    return {\n      init: _this.draw,\n      spin: _this.spin,\n    };\n  };\n\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = PrizeWheel;\n    }\n    exports.PrizeWheel = PrizeWheel;\n  } else if (typeof define === 'function' && define.amd) {\n    define([], function () {\n      return PrizeWheel;\n    });\n  } else {\n    root.PrizeWheel = PrizeWheel;\n  }\n})(this);\n"]},"metadata":{},"sourceType":"script"}